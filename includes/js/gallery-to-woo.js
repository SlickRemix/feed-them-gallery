function ft_gallery_image_to_woo(e){var t=jQuery("#ftg-tab-content1 li div.ft-gallery-select-thumbn input[type=checkbox]:checked"),a=(t.length,!1);jQuery(t).each(function(e){return jQuery(this).parent().parent().parent().hasClass("ftg-product-exists")&&(a=!0),!!jQuery(this).hasClass("ftg-no-product")||(jQuery("#ftg-tab-content1 .ft-gallery-notice").addClass("ftg-block"),jQuery("#ftg-tab-content1 .ft-gallery-notice").addClass("updated"),jQuery("#ftg-tab-content1 .ft-gallery-notice").html(ftg_woo.images_products_already_created+'<div class="ft-gallery-notice-close"></div>'),!1)}),$already_created_text=a?'<div class="ftg-already-created-text">'+ftg_woo.images_products_already_complete_using_button+"</div>":"";var l=jQuery("#ftg-tab-content1 li.ftg-no-product div.ft-gallery-select-thumbn input[type=checkbox]:checked"),o=l.length;return jQuery("#uploadContainer").append('<div class="ft-gallery-checked-count-down-wrapper"></div>'),console.log(l),jQuery(l).each(function(t){var a=jQuery(this).attr("rel"),l=JSON.stringify(a),r=100/o*t+"%",n=100/o,d=100/o*t-n+"%";console.log(r),console.log(n),console.log(d),console.log(o),$.ajaxQueue({data:{action:"ft_gallery_image_to_woo_prod",GalleryID:e,selectedMedia:l},type:"POST",url:ftgallerytoWooAjax.ajaxurl,beforeSend:function(){jQuery("#list_item_"+a).addClass("ftg-load-pulse"),jQuery("#list_item_"+a).append('<div class="ftg-loading-overlay"><div class="ftg-loading-overlay-loader"></div></div>'),jQuery("#ftg-tab-content1 .ft-gallery-notice").empty().removeClass("ftg-block"),jQuery("#ftg-tab-content1 .ft-gallery-notice").removeClass("updated").addClass("ftg-block"),jQuery("#ftg-tab-content1 .ft-gallery-notice").append('<div class="ftg-loading-percentage-wrap"><div class="ftg-loading-percentage-bar" style="min-width:'+d+'"></div></div>'),jQuery("#ftg-tab-content1 .ft-gallery-notice").append('<div class="ftg-each-count">'+t+'</div>/<div class="ftg-total-count">'+o+"</div>"),jQuery(".ftg-loading-percentage-bar").animate({width:r})},success:function(e){return console.log("Well Done and got this from sever: "+e),console.log(l),jQuery("#list_item_"+a).removeClass("ftg-load-pulse"),jQuery("#list_item_"+a+" .ftg-loading-overlay").fadeOut(),jQuery("#list_item_"+a).append('<div class="ft-gallery-woo-edit-thumb-btn" style="display: none"><a class="ft_gallery_create_woo_prod_button" target="_blank" href="'+e+'"></a></div>'),jQuery(".ft-gallery-woo-edit-thumb-btn").fadeIn(),jQuery("#list_item_"+a).addClass("ftg-product-exists"),jQuery("#list_item_"+a).removeClass("ftg-no-product"),t+1===o&&(jQuery(".ftg-loading-percentage-wrap").html('<div class="ftg-loading-percentage-bar" style="width:'+r+'">'),jQuery(".ftg-loading-percentage-bar").animate({width:"100%"}),setTimeout(function(){jQuery("#ftg-tab-content1 .ft-gallery-notice").addClass("updated");var e=t+1;jQuery("#ftg-tab-content1 .ft-gallery-notice").html('<div class="ftg-each-count">'+e+"</div>"+ftg_woo.images_products_complete_using_button+$already_created_text+'<div class="ft-gallery-notice-close"></div>'),jQuery("#ftg-tab-content1 .ftg-loading-overlay").remove()},500)),jQuery(".ft_gallery_download_button").removeAttr("disabled").removeClass("ft_gallery_download_button_loading"),!1}})}),!1}function ft_gallery_image_to_woo_on_upload(e,t){return $.ajaxQueue({data:{action:"ft_gallery_image_to_woo_prod",GalleryID:t,selectedMedia:e},type:"POST",url:ftgallerytoWooAjax.ajaxurl,beforeSend:function(){jQuery("#list_item_"+e).append('<div class="ftg-loading-overlay"><div class="ftg-loading-overlay-loader"></div></div>'),jQuery("#ftg-tab-content1 .ft-gallery-notice").empty().removeClass("ftg-block"),jQuery("#ftg-tab-content1 .ft-gallery-notice").removeClass("updated").addClass("ftg-block")},success:function(t){console.log("Well Done and got this from sever: "+t),jQuery("#list_item_"+e).removeClass("ftg-load-pulse"),jQuery("#list_item_"+e+" .ftg-loading-overlay").fadeOut();var a=jQuery(".file"),l=jQuery(".file.ftg-upload-complete");return a.length===l.length&&setTimeout(function(){jQuery("#ftg-tab-content1 .ft-gallery-notice").addClass("updated"),jQuery("#ftg-tab-content1 .ft-gallery-notice").addClass("ftg-block"),jQuery("#ftg-tab-content1 .ft-gallery-notice").html(ftg_woo.images_products_complete_on_auto_upload),jQuery("#ftg-tab-content1 .ft-gallery-notice").append('<div class="ft-gallery-notice-close"></div>'),console.log("made it")},500),jQuery("#list_item_"+e).append('<div class="ft-gallery-woo-edit-thumb-btn" style="display: none"><a class="ft_gallery_create_woo_prod_button" target="_blank" href="'+t+'"></a></div>'),jQuery(".ft-gallery-woo-edit-thumb-btn").fadeIn(),jQuery("#list_item_"+e).addClass("ftg-product-exists"),jQuery(".ft_gallery_download_button").removeAttr("disabled").removeClass("ft_gallery_download_button_loading"),!1}}),!1}function ft_gallery_zip_to_woo(e,t){return jQuery.ajax({data:{action:"ft_gallery_zip_to_woo_prod",GalleryID:e,ZIP_ID:t},type:"POST",async:!0,url:ftgallerytoWooAjax.ajaxurl,beforeSend:function(){jQuery("#ftg-tab-content6 .ft-gallery-notice").empty().removeClass("ftg-block"),jQuery("#ftg-tab-content6 .ft-gallery-notice").removeClass("updated").addClass("ftg-block"),jQuery("#ftg-tab-content6 .ft-gallery-notice").prepend('<div class="fa fa-cog fa-spin fa-3x fa-fw ft-gallery-loader"></div><div>This may take a few minutes based on your gallery size and server speed.</div>')},success:function(e){return console.log("Well Done and got this from sever: "+e),jQuery("#ftg-tab-content6 .ft-gallery-notice").html(e),jQuery("#ftg-tab-content6 .ft-gallery-notice").addClass("updated"),jQuery("#ftg-tab-content6 .ft-gallery-notice").append('<div class="ft-gallery-notice-close"></div>'),jQuery(".ft_gallery_download_button").removeAttr("disabled").removeClass("ft_gallery_download_button_loading"),!1}}),!1}!function(e){var t=e({});e.ajaxQueue=function(a){var l,o=e.Deferred(),r=o.promise();function n(t){l=e.ajax(a).then(t,t).done(o.resolve).fail(o.reject)}return t.queue(n),r.abort=function(d){if(l)return l.abort(d);var i=t.queue(),s=e.inArray(n,i);return s>-1&&i.splice(s,1),o.rejectWith(a.context||a,[r,d,""]),r},r}}(jQuery);